# Lowest Valley Journeys

import { Meta, Canvas, Story } from '@storybook/blocks';

<Meta
  title="Specs/Journeys/Lowest Valley"
  parameters={{
    helpDocs: [
      { href: '?path=/story/specs-service-catalog--page#flows', title: 'Service Catalog — Flows' },
    ],
  }}
/>

Resilience-first journeys that exercise error paths and recovery behaviors using the real stories and mocks in this repository.

## Rate Limiting (429)

- Open Dev/NetworkPlayground and click "Run Scenario". The 4th /api/ratelimit call returns 429 with Retry-After.
  <Canvas>
    <Story id="dev-networkplayground--default" />
  </Canvas>

## Caching (ETag → 304)

- Open API/Playground, select GET /api/cache, click "Call API" twice — second call returns 304 Not Modified.
  <Canvas>
    <Story id="api-playground--default" />
  </Canvas>

## S2S Failure (500)

- Dev/S2S Orchestration: set Trace Fail At = validate and click Start to visualize degraded trace.
- Deep Link: ?path=/story/dev-s2s-orchestration--default&traceFail=validate&traceDelay=300&noDefaults=1
  <Canvas>
    <Story id="dev-s2s-orchestration--default" />
  </Canvas>

## Server Error (500)

- API/Playground: choose POST /api/tooltips/generate and type TRIGGER_ERROR in the input, then call.
  <Canvas>
    <Story id="api-playground--error-lessons" />
  </Canvas>

## Empty State (Epics)

- Epic Manager (Empty variant) demonstrates empty list handling and messaging.
  <Canvas>
    <Story id="docs-epics-epic-manager--empty" />
  </Canvas>
