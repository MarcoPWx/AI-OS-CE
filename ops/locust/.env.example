# QuizMentor Load Testing Configuration
# Copy this file to .env and update with your values

# === Target Configuration ===
# Base URL of the API to test
QM_LOADTEST_BASE_URL=https://staging-api.quizmentor.com
# QM_LOADTEST_BASE_URL=http://localhost:3000  # For local testing

# === Authentication ===
# API token for authenticated endpoints (optional)
QM_API_TOKEN=your-api-token-here

# Enable authentication (true/false)
QM_USE_AUTH=false

# === Load Test Parameters ===
# Number of concurrent users to simulate
QM_LOADTEST_USERS=100

# Users spawn rate (users per second)
QM_LOADTEST_SPAWN=10

# Test duration (e.g., 30s, 5m, 1h)
QM_LOADTEST_RUNTIME=5m

# Number of worker nodes (for distributed testing)
LOCUST_WORKERS=4

# === Failure Thresholds (for CI/CD) ===
# Maximum acceptable failure ratio (0.01 = 1%)
QM_LOADTEST_THRESHOLD_FAIL_RATIO=0.01

# Maximum acceptable P95 latency in milliseconds
QM_LOADTEST_THRESHOLD_P95=1000

# Maximum acceptable P99 latency in milliseconds
QM_LOADTEST_THRESHOLD_P99=2000

# === Debug Settings ===
# Enable debug logging (true/false)
QM_DEBUG=false

# === Test Profiles ===
# Uncomment the profile you want to use

# Light load (development testing)
# QM_LOADTEST_USERS=10
# QM_LOADTEST_SPAWN=2
# QM_LOADTEST_RUNTIME=1m

# Medium load (staging validation)
# QM_LOADTEST_USERS=100
# QM_LOADTEST_SPAWN=10
# QM_LOADTEST_RUNTIME=5m

# Heavy load (stress testing)
# QM_LOADTEST_USERS=500
# QM_LOADTEST_SPAWN=50
# QM_LOADTEST_RUNTIME=10m

# Spike test (sudden traffic surge)
# QM_LOADTEST_USERS=1000
# QM_LOADTEST_SPAWN=200
# QM_LOADTEST_RUNTIME=5m

# Soak test (long-running stability)
# QM_LOADTEST_USERS=200
# QM_LOADTEST_SPAWN=20
# QM_LOADTEST_RUNTIME=1h

# === Advanced Settings ===
# Connection timeout in seconds
LOCUST_CONNECTION_TIMEOUT=30

# Request timeout in seconds
LOCUST_REQUEST_TIMEOUT=60

# Max retries for failed requests
LOCUST_MAX_RETRIES=2

# === Monitoring Integration ===
# Prometheus metrics endpoint (optional)
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9646

# === Reporting ===
# CSV output directory (for artifacts)
CSV_OUTPUT_DIR=./artifacts

# Include detailed statistics in CSV
CSV_FULL_HISTORY=true

# === Docker Settings ===
# Container resource limits (optional)
# DOCKER_CPUS=2
# DOCKER_MEMORY=2g
