import{R as e}from"./index-R2V08a_e.js";import{L as S,f as k,a as v,b as y}from"./LastUpdated-u3t6Tx8m.js";import{M as C,r as I}from"./index-sB0THNqM.js";import"./jsx-runtime-BjG_zV1W.js";function M(s,a){const[o,l]=e.useState(null),[d,r]=e.useState(null),[h,m]=e.useState(!1),[b,x]=e.useState(null),c=e.useCallback(async()=>{m(!0),r(null);try{const[t,p]=await Promise.all([k(),v(s,a)]);l(p);const i=y(t,s),u=(i==null?void 0:i.mtimeIso)||(t==null?void 0:t.generatedAtIso)||(t==null?void 0:t.generatedAt);u&&x(u),p||r("Failed to load document")}catch(t){r((t==null?void 0:t.message)||"Failed to load")}finally{m(!1)}},[s,a]);return e.useEffect(()=>{c()},[c]),{text:o,error:d,loading:h,lastUpdated:b,reload:c}}function R(){const s=e.useMemo(()=>["/docs/roadmap/EPICS.md"],[]),{text:a,error:o,loading:l,lastUpdated:d,reload:r}=M(s);return e.createElement("div",{style:{padding:16,display:"grid",gap:12}},e.createElement("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"}},e.createElement("h3",{style:{margin:0}},"Epics (Canonical)"),e.createElement("div",{style:{marginLeft:"auto",display:"flex",gap:8,alignItems:"center"}},e.createElement(S,{iso:d}),e.createElement("button",{onClick:r,disabled:l},l?"Reloading…":"Refresh"))),o&&e.createElement("div",{role:"alert",style:{color:"#ff6b6b"}},o),!o&&!a&&e.createElement("div",null,"Loading…"),a&&e.createElement("div",{style:{maxHeight:"80vh",overflow:"auto",padding:12,border:"1px solid rgba(255,255,255,0.12)",borderRadius:8,background:"rgba(255,255,255,0.02)"}},e.createElement(C,{remarkPlugins:[I]},a)))}const T={title:"Docs/Epics",component:R,parameters:{helpDocs:[{href:"/docs/roadmap/EPICS.md",title:"Open EPICS.md"},{href:"/docs/status/EPIC_MANAGEMENT_CURRENT.md",title:"Open Current Status"}],docs:{description:{component:"Renders EPICS.md (canonical) live from /docs with fallback to the current status page and to /api/docs/read?key=epic-management. Shows Last updated from the docs manifest if present."}}}},n={};var f,g,E;n.parameters={...n.parameters,docs:{...(f=n.parameters)==null?void 0:f.docs,source:{originalSource:"{}",...(E=(g=n.parameters)==null?void 0:g.docs)==null?void 0:E.source}}};const U=["Default"];export{n as Default,U as __namedExportsOrder,T as default};
